<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started • rtrackr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:description" content="rtrackr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rtrackr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/getting_started.html">Getting started</a>
    </li>
    <li>
      <a href="../articles/how_it_works.html">How it works</a>
    </li>
    <li>
      <a href="../articles/multiple_history.html">Multiple history workflow</a>
    </li>
    <li>
      <a href="../articles/single_history.html">Single history workflow</a>
    </li>
    <li>
      <a href="../articles/summarising_data.html">Summarising data</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="getting_started_files/kePrint-0.0.1/kePrint.js"></script><script src="getting_started_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="getting_started_files/d3-4.5.0/d3.min.js"></script><script src="getting_started_files/forceNetwork-binding-0.4/forceNetwork.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting started</h1>
            
      
      
      <div class="hidden name"><code>getting_started.Rmd</code></div>

    </div>

    
    
<div id="installation" class="section level3">
<h3 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h3>
<p><code>rtrackr</code> is currently available through <a href="https://github.com/hamishgibbs/rtrackr">GitHub</a>. To install the development version, use:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="kw pkg">remotes</span><span class="kw ns">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"hamishgibbs/rtrackr"</span>)</pre></body></html></div>
</div>
<div id="logging-a-new-dataset" class="section level3">
<h3 class="hasAnchor">
<a href="#logging-a-new-dataset" class="anchor"></a>Logging a new dataset</h3>
<p>Dataset tracking starts with the <a href="https://hamishgibbs.github.io/rtrackr/reference/trackr_new.html"><code><a href="../reference/trackr_new.html">trackr_new()</a></code></a> function. Load a new dataset into R and use <code><a href="../reference/trackr_new.html">trackr_new()</a></code> to record each record in the dataset. Here, we create a simple dataframe as an example.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">df</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">a</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>), <span class="kw">b</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>))</pre></body></html></div>
<details><summary>Details</summary><table class="table table table-striped table-hover table-condensed">
<thead><tr>
<th style="text-align:left;">
a
</th>
<th style="text-align:right;">
b
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
a
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
b
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
c
</td>
<td style="text-align:right;">
3
</td>
</tr>
</tbody>
</table></details><p><a href="https://hamishgibbs.github.io/rtrackr/reference/trackr_new.html"><code><a href="../reference/trackr_new.html">trackr_new()</a></code></a> adds a <code>trackr_id</code> column to the dataframe, the starting point for all data logging with <code>rtrackr</code>. Be sure to specify where <code>rtrackr</code> log files should be stored with <code>trackr_dir =</code> (you will see an error if you do not).</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="no">trackr_dir</span> <span class="kw">&lt;-</span> <span class="st">'~/Documents/trackr_dir'</span>
<span class="no">df</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/trackr_new.html">trackr_new</a></span>(<span class="no">df</span>, <span class="kw">trackr_dir</span> <span class="kw">=</span> <span class="no">trackr_dir</span>)</pre></body></html></div>
<pre><code>## [1] "Successfully written trackr file d6c4dcdb967f3ca13b585e36c8c3bb07c4ad76ed.json"
## [1] "Successfully written trackr data log d6c4dcdb967f3ca13b585e36c8c3bb07c4ad76ed_dl.json"</code></pre>
<details><summary>Details</summary><table class="table table table-striped table-hover table-condensed">
<thead><tr>
<th style="text-align:left;">
a
</th>
<th style="text-align:right;">
b
</th>
<th style="text-align:left;">
trackr_id
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
a
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
d6c4dcdb967f3ca13b585e36c8c3bb07c4ad76ed_4751028c3d830cf93f7d1e64d5e4d58c9d01ee32
</td>
</tr>
<tr>
<td style="text-align:left;">
b
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
d6c4dcdb967f3ca13b585e36c8c3bb07c4ad76ed_d6543aeb67806714fa9e9567dc5c46b2106ae843
</td>
</tr>
<tr>
<td style="text-align:left;">
c
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
d6c4dcdb967f3ca13b585e36c8c3bb07c4ad76ed_acecf5a5dfb445683737c2f7f135b18c5eaee1a7
</td>
</tr>
</tbody>
</table></details><p>You should see an output similar to what is printed above “Successfully written …”. These messages tell us that the dataset has been successfully logged and that two log files have been written. One file (the trackr file) records the lineage of each row in the dataset. The other file (with the suffix "_dl") is the data log - a record of the dataset at this point in time.</p>
</div>
<div id="defining-timepoints" class="section level3">
<h3 class="hasAnchor">
<a href="#defining-timepoints" class="anchor"></a>Defining timepoints</h3>
<p><code>rtrackr</code> is designed to record dataset changes throughout the processing chain, allowing for a full history of important changes to each record. a <code>timepoint</code> defines a certain time in the processing chain, and is similar to a <code>commit</code> in <code>git</code>. You can record a <code>timepoint</code> with <a href="https://hamishgibbs.github.io/rtrackr/reference/trackr_timepoint.html"><code><a href="../reference/trackr_timepoint.html">trackr_timepoint()</a></code></a></p>
<p>First, we will make a change to the logged dataset.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">df</span> <span class="kw">&lt;-</span> <span class="no">df</span> <span class="kw">%&gt;%</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">b</span> <span class="kw">=</span> <span class="no">b</span> + <span class="fl">1</span>)</pre></body></html></div>
<details><summary>Details</summary><table class="table table table-striped table-hover table-condensed">
<thead><tr>
<th style="text-align:left;">
a
</th>
<th style="text-align:right;">
b
</th>
<th style="text-align:left;">
trackr_id
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
a
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
d6c4dcdb967f3ca13b585e36c8c3bb07c4ad76ed_4751028c3d830cf93f7d1e64d5e4d58c9d01ee32
</td>
</tr>
<tr>
<td style="text-align:left;">
b
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
d6c4dcdb967f3ca13b585e36c8c3bb07c4ad76ed_d6543aeb67806714fa9e9567dc5c46b2106ae843
</td>
</tr>
<tr>
<td style="text-align:left;">
c
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
d6c4dcdb967f3ca13b585e36c8c3bb07c4ad76ed_acecf5a5dfb445683737c2f7f135b18c5eaee1a7
</td>
</tr>
</tbody>
</table></details><p>Then, we will log this change as a new <code>timepoint</code>.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">df</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/trackr_timepoint.html">trackr_timepoint</a></span>(<span class="no">df</span>, <span class="kw">trackr_dir</span> <span class="kw">=</span> <span class="no">trackr_dir</span>, <span class="kw">timepoint_message</span> <span class="kw">=</span> <span class="st">'First processing step'</span>)</pre></body></html></div>
<pre><code>## [1] "Successfully written trackr file 39e4ad2dd13713434a0af661d92699924531f95b.json"
## [1] "Successfully written trackr data log 39e4ad2dd13713434a0af661d92699924531f95b_dl.json"</code></pre>
<details><summary>Details</summary><table class="table table table-striped table-hover table-condensed">
<thead><tr>
<th style="text-align:left;">
a
</th>
<th style="text-align:right;">
b
</th>
<th style="text-align:left;">
trackr_id
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
a
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
39e4ad2dd13713434a0af661d92699924531f95b_9b298ab2c9539c0d7f187ce26315f459fa58e78e
</td>
</tr>
<tr>
<td style="text-align:left;">
b
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
39e4ad2dd13713434a0af661d92699924531f95b_0d62e87ad3877b0c51934dd0c38cba3467375b09
</td>
</tr>
<tr>
<td style="text-align:left;">
c
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
39e4ad2dd13713434a0af661d92699924531f95b_b1ba9407cf19da9a3625e46f5378484323799a05
</td>
</tr>
</tbody>
</table></details><p>You should see the same success messages as you did for <a href="https://hamishgibbs.github.io/rtrackr/reference/trackr_new.html"><code><a href="../reference/trackr_new.html">trackr_new()</a></code></a>, above. Notice the argument <code>timepoint_message</code>, which gives an optional, plain text record of this timepoint, similar to a commit message in <code>git</code>. To suppress success messages, use <code>suppress_success = TRUE</code>, the default is <code>FALSE</code>.</p>
<p>Congratulations! Using <code>rtrackr</code> should be as easy as tracking a new dataset and logging subsequent processing timepoints. For the special case of summarizing multiple records into one, see <a href="https://hamishgibbs.github.io/rtrackr/articles/summarising_data.html">Summarising data</a>.</p>
<p><em>Please note: <code>rtrackr</code> uses the current UNIX timestamp (in seconds) to define a <code>trackr_id</code>. Logging multiple timepoints in the same second is not permitted, and <code>trackr_timepoint</code> will wait until the following second to write a new trackr log file. This means that repeated calls to <code>trackr_timepoint</code> may delay code execution. For more information, see <a href="https://hamishgibbs.github.io/rtrackr/articles/how_it_works.html">how it works</a>.</em></p>
</div>
<div id="querying-record-history" class="section level3">
<h3 class="hasAnchor">
<a href="#querying-record-history" class="anchor"></a>Querying record history</h3>
<p>Now that we have logged a dataset and a processing timepoint, we can query the history of a record in the most recent version of the dataset. Use <a href="https://hamishgibbs.github.io/rtrackr/reference/trackr_lineage.html"><code><a href="../reference/trackr_lineage.html">trackr_lineage()</a></code></a> to get all parent records of a given trackr_id.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">target_id</span> <span class="kw">&lt;-</span> <span class="no">df</span>$<span class="no">trackr_id</span>[<span class="fl">1</span>]
<span class="fu"><a href="../reference/trackr_lineage.html">trackr_lineage</a></span>(<span class="no">target_id</span>, <span class="no">trackr_dir</span>)</pre></body></html></div>
<pre><code>## [1] "Successfully written 39e4ad2dd13713434a0af661d92699924531f95b_9b298ab2c9539c0d7f187ce26315f459fa58e78e_lineage.json"</code></pre>
<p>For a more intelligible way to represent the lineage of a trackr_id, use <a href="https://hamishgibbs.github.io/rtrackr/reference/trackr_network.html"><code><a href="../reference/trackr_network.html">trackr_network()</a></code></a> to create an interactive network of the dataset history.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">lineage_fn</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="no">trackr_dir</span>, <span class="st">'/'</span>, <span class="no">target_id</span>, <span class="st">'_lineage.json'</span>)

<span class="fu"><a href="../reference/trackr_network.html">trackr_network</a></span>(<span class="no">lineage_fn</span>)</pre></body></html></div>
<div id="htmlwidget-fc1fe9391972c1f7e472" style="width:700px;height:432.632880098888px;" class="forceNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-fc1fe9391972c1f7e472">{"x":{"links":{"source":[0],"target":[1],"value":[1],"colour":["#666"]},"nodes":{"name":["39e4ad2dd13713434a0af661d92699924531f95b_9b298ab2c9539c0d7f187ce26315f459fa58e78e","d6c4dcdb967f3ca13b585e36c8c3bb07c4ad76ed_4751028c3d830cf93f7d1e64d5e4d58c9d01ee32"],"group":[1,1],"nodesize":[8,8]},"options":{"NodeID":"name","Group":"group","colourScale":"d3.scaleOrdinal(['#3182bd'])","fontSize":7,"fontFamily":"serif","clickTextSize":17.5,"linkDistance":50,"linkWidth":"'1.5px'.toString()","charge":-30,"opacity":0.6,"zoom":false,"legend":false,"arrows":false,"nodesize":true,"radiusCalculation":"d.nodesize","bounded":false,"opacityNoHover":1,"clickAction":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="clean-up" class="section level3">
<h3 class="hasAnchor">
<a href="#clean-up" class="anchor"></a>Clean up</h3>
<p>After creating, recording, and querying the history of changes to a dataset, use <a href="https://hamishgibbs.github.io/rtrackr/reference/clean_trackr_dir.html"><code><a href="../reference/clean_trackr_dir.html">clean_trackr_dir()</a></code></a> to remove all log files.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="fu"><a href="../reference/clean_trackr_dir.html">clean_trackr_dir</a></span>(<span class="no">trackr_dir</span>)</pre></body></html></div>
<pre><code>## [1] "Removed: 39e4ad2dd13713434a0af661d92699924531f95b_9b298ab2c9539c0d7f187ce26315f459fa58e78e_lineage.json"
## [2] "Removed: 39e4ad2dd13713434a0af661d92699924531f95b_dl.json"                                              
## [3] "Removed: 39e4ad2dd13713434a0af661d92699924531f95b.json"                                                 
## [4] "Removed: d6c4dcdb967f3ca13b585e36c8c3bb07c4ad76ed_dl.json"                                              
## [5] "Removed: d6c4dcdb967f3ca13b585e36c8c3bb07c4ad76ed.json"</code></pre>
<p><strong>Warning:</strong> <code>clean_trackr_dir</code> is a simple wrapper function that will delete any <code>.json</code> files in the <code>trackr_dir</code>. Use caution when mixing trackr log files with other files. The recommended practice is to create a separate directory for all trackr log files.</p>
<p><em>Article by Hamish Gibbs 2020-06-18 13:56:39. To report a problem with this package, please <a href="https://github.com/hamishgibbs/rtrackr/issues">create an issue</a> on <a href="https://github.com/hamishgibbs/rtrackr">GitHub</a>.</em></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Hamish Gibbs.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
